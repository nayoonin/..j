;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#
;
;	Module		:COMFxxx.ERB
;	Facility	:TRAINコマンド(72:바이브)。
;
;	Licence		:ライセンスフリー。
;
;_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/_/#

;===============================================================================
;  ◇記載関数一覧(記載順)
;
;		Module Name						Explanation
;
;	・ COM_FUNC_GET_NAME_Xxxx			取得:コマンド名称
;	・ COM_FUNC_ABLE_Xxxx				CHK:コマンド実行条件
;	・ COM_FUNC_INPUT_Xxxx				コマンド実行確認
;	・ COM_FUNC_EXE_Xxxx				コマンド実行
;	・ COM_FUNC_SRC_Xxxx				コマンドソース
;	・ COM_FUNC_TRAIN_MSG_Xxxx			コマンドメッセージ
;	・ COM_FUNC_GET_TYPE_Xxxx			取得:コマンド種別
;
;===============================================================================

;=================================================
;   sub COM_FUNC_GET_NAME_Xxxx
;=================================================
;   取得:コマンド名称
;-------------------------------------------------
; Output:
;  RESULTS				コマンド名称
;-------------------------------------------------
@COM_FUNC_GET_NAME_X72
RESULTS = 바이브

;=================================================
;   sub COM_FUNC_ABLE_Xxxx
;=================================================
;   CHK:コマンド実行条件
;-------------------------------------------------
; Output:
;  RESULT				真偽値
;-------------------------------------------------
@COM_FUNC_ABLE_X72

;特定アイテムを所有
SIF !ITEM:바이브
	RETURN 0

;女性器
SIF !VAR_SEX()
	RETURN 0

RETURN 1

;=================================================
;   sub COM_FUNC_INPUT_Xxxx
;=================================================
;   コマンド実行確認
;-------------------------------------------------
; Output:
;  RETURN				真偽値
;-------------------------------------------------
@COM_FUNC_INPUT_X72
#DIM L_P
#DIM L_T

L_P = PLAYER
L_T = TARGET

;-----------------------------
;- 事前処理
;-----------------------------
;CHK
SIF TEQUIP:L_T:Ｖ器具 != [[TRAIN:바이브]]
	RETURN 1

TEQUIP:L_T:Ｖ器具 = 0

;-----------------------------
;- 情景
;-----------------------------

PRINTFORML %CALLNAME:TARGET%에게서 꿈틀대는 바이브를 천천히 빼냈다.
IF 0
;Ｖ경험150以上＋함락각인
ELSEIF EXP:Ｖ경험 > 150 && MARK:함락각인
	PRINTFORM %CALLNAME%의 질내에 고여 있던 점액이 딸려나와, 흥건한 물웅덩이를 만들고 있
;Ｖ경험120以上＋함락각인
ELSEIF EXP:Ｖ경험 > 120 && MARK:함락각인
	PRINTFORM 바이브가 빠진 %CALLNAME:TARGET%의 질에서 투명한 액체가 줄줄 흘러 나오고 있
;Ｖ경험70以上＋함락각인
ELSEIF EXP:Ｖ경험 > 70 && MARK:함락각인
	PRINTFORM %타겟은% 쭈뼛쭈뼛 가랑이를 문지르며 %CALLNAME:PLAYER% 쪽을 보고있
;Ｖ경험40以上
ELSEIF EXP:Ｖ경험 > 40 && MARK:함락각인
	PRINTFORM %타겟은% 열띤 한숨을 내쉬고 있
;Ｖ경험20以上
ELSEIF EXP:Ｖ경험 > 20
	PRINTFORM %타겟은% 느슨해진 질구를 움찔거리고 있
;それ以外
ELSE
	PRINTFORM %타겟은% 뿅 간 듯한 표정을 짓고 있
ENDIF
PRINTL 다…….
WAIT


;解除だけの為、0返し
RETURN 0

;=================================================
;   sub COM_FUNC_EXE_Xxxx
;=================================================
;   コマンド実行
;-------------------------------------------------
@COM_FUNC_EXE_X72
#DIM L_P
#DIM L_T
#DIM L_TMP
#DIM L_I
VARSET LOCAL

L_P = PLAYER
L_T = TARGET

;-----------------------------
;COM別FLAGの設定
;-----------------------------

TEQUIP:L_T:Ｖ器具 = [[TRAIN:바이브]]
TEQUIP:L_T:Ｖ器具経過ターン = 0

L_TMP = TEQUIP:L_T:ポイント性交
IF L_TMP
	CALLFORM COM_FUNC_GET_TYPE_X{L_TMP}
	SIF RESULT == [[COM種別:Ｖ性交系]]
		TEQUIP:L_T:ポイント性交 = [[TRAIN:無し]]
ENDIF

;-----------------------------
;ソース追加処理
;-----------------------------

;-----------------------------
;その他の処理
;-----------------------------


;=================================================
;   sub COM_FUNC_SRC_Xxxx
;=================================================
;   コマンドソース
;-------------------------------------------------
@COM_FUNC_SRC_X72
#DIM L_P
#DIM L_T
#DIM L_TMP
#DIM L_I
VARSET LOCAL

L_P = PLAYER
L_T = TARGET

;-----------------------------
;COM別FLAGの設定
;-----------------------------

;-----------------------------
;ソース追加処理
;-----------------------------

LOCAL:0 = 120
LOCAL:1 = 100
LOCAL:2 = 100

L_TMP=150
LOCAL:0 = LOCAL:0 * L_TMP / 100
LOCAL:1 = LOCAL:1 * L_TMP / 100
LOCAL:2 = LOCAL:2 * L_TMP / 100


;- ソース
SOURCE:L_T:쾌V += LOCAL:0
SOURCE:L_T:性行為 += LOCAL:1
SOURCE:L_T:露出 += LOCAL:2

;- TR:ソース(部位고통)
CALL TR_SOURCE_ADD_部位고통("Ｖ감각", L_T)


;-----------------------------
;経験の処理
;-----------------------------

;- TR:処女喪失(Ｖ) (1:道具)
CALL TR_CHK_LOST_VIRGIN_V(L_T, 1)

;-----------------------------
;その他の処理
;-----------------------------



;=================================================
;   sub COM_FUNC_TRAIN_MSG_Xxxx
;=================================================
;   コマンドメッセージ
;-------------------------------------------------
@COM_FUNC_TRAIN_MSG_X72

;- 挿入時
IF !TEQUIP:Ｖ器具経過ターン

	SIF ABL:Ｖ감각 >= 4 && TALENT:음란도
		PRINT 허리를 띄우고 조르고 있는
	PRINTFORM %CALLNAME%の
	;윤활LV5以上でさらに追加
	SIF PALAM:윤활 >= PALAMLV:5
		PRINT 흠뻑 
	;윤활LV3以上でさらに追加
	SIF PALAM:윤활 >= PALAMLV:3
		PRINT 점액을 머금은 
	;작은체형
	IF TALENT:작은체형
		PRINT 어린 음부에 
	ELSE
		PRINT 비렬에 
	ENDIF
	PRINTL 바이브의 머리를 대고 밀어 넣는다…….
	PRINTFORM %타겟은% 
	;処女
	IF TCVAR:이력_EXP_처녀상실
		;함락각인
		IF MARK:함락각인
			PRINTFORM 조금 쓸쓸한 눈으로 %플레이어를% 보고있
		;淫乱
		ELSEIF TALENT:음란도
			PRINT 처녀인 것에도 아랑곳하지 않고, 허리를 흔들며 조르고 있
		;선을넘지않음
		ELSEIF TALENT:선을넘지않음
			PRINT 무언가를 포기한 표정으로 눈에 어렴풋이 눈물을 글썽이고 있
		;それ以外
		ELSE
			PRINT 덜덜 떨면서, 상실의 공포에 떨고 있
		ENDIF

	;비처녀
	ELSE
		;淫乱
		IF TALENT:음란도
			;Ｖ경험200以上
			IF EXP:Ｖ경험 > 200
				PRINT 삽입에 대한 기대만으로 허리를 떨며 가버릴 것 같
			;Ｖ경험150以上
			ELSEIF EXP:Ｖ경험 > 150
				PRINTFORM 촉촉해진 눈으로 %플레이어를% 바라보며, 스스로 음순을 문지르고 있
			;Ｖ경험120以上
			ELSEIF EXP:Ｖ경험 > 120
				PRINT 황홀한 표정을 지으면서 못 기다리겠다는 듯 허리를 꼬고 있
			;それ以外
			ELSE
				PRINTFORM 가지고 싶은 듯이 눈을 글썽이며 %CALLNAME:PLAYER% 쪽을 바라보고 있
			ENDIF
		ELSE
			;Ｖ경험40以上
			IF EXP:Ｖ경험 > 40
				PRINT 바이브의 스치는 감촉에 도취된 한숨을 쉬고 있
			;Ｖ경험20以上
			ELSEIF EXP:Ｖ경험 > 20
				PRINT 바이브의 스치는 감촉에 몸을 꼬며 애액을 내고 있
			;それ以外
			ELSE
				PRINT 바이브의 스치는 감촉에 육벽을 실룩거리고 있
			ENDIF
		ENDIF
	ENDIF
	PRINTL 다…….
	PRINTFORM %CALLNAME%의 
	;濡れ
	SIF TCVAR:キャラ윤활
		PRINT 흠뻑 젖은 
	PRINTFORML 성기에 바이브를 꽂았다.

;- 継続中
ELSE
	PRINTFORML %타겟은% 바이브에서 오는 쾌감에 달콤한 소리를 내고 있다…….
ENDIF

WAIT


;=================================================
;   sub COM_FUNC_GET_TYPE_Xxxx
;=================================================
;   取得:コマンド種別
;-------------------------------------------------
; Output:
;  RESULT				コマンド種別
;-------------------------------------------------
@COM_FUNC_GET_TYPE_X72
RETURN [[COM種別:道具系]]

